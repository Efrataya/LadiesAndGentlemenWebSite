@using Microsoft.AspNetCore.Http;
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ladies & Gentlemen</title>

    <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="photo\logo.PNG">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>@ViewData["Title"] </title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/home.css" />
    @RenderSection("Css", required: false)
    <script>
                    window.onload = function () {

                        fetch('@Url.Action("CategoriesMenu","Categories")').then(res => res.text())
                            .then(text => {
                                document.getElementById('categoriesMenu').innerHTML = text;
                        });
                    }
    </script>

</head>


<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01"
                    aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
                <a class="navbar-brand" asp-controller="Home" asp-action="Index">Ladies & Gentlemen</a>
                <span id="categoriesMenu"></span>
                <div style="display: flex; position: absolute; right: 20px;">

                    @*<ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <li class="nav-item dropdown">

                    <a class="nav-link dropdown-toggle" asp-controller="Products" asp-action="Details1" asp-route-id="2" id="navbarDropdown" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Women
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="2" asp-route-id2="3">Shirts</a>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="2" asp-route-id2="4">Skirts</a>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="2" asp-route-id2="5">Dresses</a>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="2" asp-route-id2="6">Shoes</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="2">All</a>
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" asp-controller="Products" asp-action="Details1" asp-route-id="1" id="navbarDropdown2" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Men
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="1" asp-route-id2="15">Suits</a>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="1" asp-route-id2="16">Shirts</a>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="1" asp-route-id2="17">Shoes</a>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="1" asp-route-id2="18">Accessories</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="1">All</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" asp-controller="Products" asp-action="Details1" asp-route-id="3" id="navbarDropdown3" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Children
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">

                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="3" asp-route-id2="11">girl dress</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="3" asp-route-id2="12">shirts</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="3" asp-route-id2="13">suits</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="3" asp-route-id2="14">accessories</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" asp-controller="Products" asp-action="Details1" asp-route-id="3">All</a>
                    </div>
                </li>

                @if (Context.Session.GetString("FirstName") != null)
                {
                    @if (@Context.Session.GetString("FirstName") == "L&G1234")
                    {
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href=login.html id="navbarDropdown" role="button" data-toggle="dropdown"
                               aria-haspopup="true" aria-expanded="false">
                                Manager
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">

                                <a class="dropdown-item" asp-action="Create" asp-controller="Products">Add Item</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" asp-action="Index" asp-controller="Products">Delete Item</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" asp-action="Index" asp-controller="Products">Update Item</a>
                                <div class="dropdown-divider"></div>

                                <a class="dropdown-item" asp-action="Index" asp-controller="Clients">Delete User</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" asp-action="Index" asp-controller="Clients">Update User</a>
                            </div>
                        </li>
                    }
                }


            </ul>*@



                    <form class="form-inline my-2 my-lg-0">
                        @if (@Context.Session.GetString("cart") != null)
                        {

                            @if (Context.Session.GetString("sum") != null)
                            {
                                <span class="mine bi">
                                    @Context.Session.GetString("sum")
                                </span>
                            }

                            <a asp-action="Cart" asp-controller="Products">

                                <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-cart" fill="currentColor"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                          d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm7 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </svg>
                            </a>}

                        &nbsp; &nbsp;
                        @if (@Context.Session.GetString("FirstName") == null)
                        {
                            <a asp-action="LogIn" asp-controller="Clients">
                                <svg width="1.5em" height="1.5em" viewBox="0 0 16 16" class="bi bi-person-circle"
                                     fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z" />
                                    <path fill-rule="evenodd" d="M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                                    <path fill-rule="evenodd" d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z" />
                                </svg>
                            </a>
                        }
                        &nbsp; &nbsp;
                        @if (@Context.Session.GetString("FirstName") != null)
                        {
                            <a asp-action="logout" asp-controller="Clients">

                                <i class="bi bi-person-x-fill"></i>
                                <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" class="bi bi-person-x-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm6.146-2.854a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z" />
                                </svg>
                                &nbsp; &nbsp;
                            </a>
                            <a asp-action="Edit" asp-controller="Clients" asp-route-id="@Context.Session.GetString("clientId")">
                                <i class="bi bi-file-earmark-person"></i>
                                <svg xmlns="http://www.w3.org/2000/svg" width="1.5em" height="1.5em" fill="currentColor" class="bi bi-file-earmark-person" viewBox="0 0 16 16">
                                    <path d="M11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                    <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2v9.255S12 12 8 12s-5 1.755-5 1.755V2a1 1 0 0 1 1-1h5.5v2z" />
                                </svg>
                                &nbsp; &nbsp;
                            </a>

                        }


                    </form>
                    <form asp-action="Search" asp-controller="Products">
                        <input placeholder="Enter product name" name="Name" autocomplete="off" />
                        <input placeholder="Enter maximum price" name="Pricee" autocomplete="off" />
                        <input type="submit" value="Search" />
                    </form>
                </div>
</div>
</nav>
        

        @{
            string b = "";
            if (DateTime.Now.Hour < 4)
                b = "night";
            else if (DateTime.Now.Hour < 12)
                b = "morning";
            else if(DateTime.Now.Hour < 18)
            {
                b = "afternon";
            }
            else
                b = "evening";
        }


        @if (Context.Session.GetString("FirstName") != null)
        {
            @if (@Context.Session.GetString("FirstName") == "L&G1234")
            {
                <p4 class="hello">
                 good @b manager! 
                </p4>
            }
            else
            {
                <p4 class="hello">
                   good @b @Context.Session.GetString("FirstName")!
                </p4>

                

            }
        }



    </header>
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <br>
    <br>
    <br>
    <br>

    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <p &nbsp; &nbsp</p>
                    <a><img class="logofooter" src="~/photo/logo.png"></a>
                    <p &nbsp; &nbsp</p>
                    <h7 class="white-text">Customer Service</h7>
                    <h5>08-5554433</h5>
                    <h5>Aliyat Hanoar, 16 Rehovot</h5>
                    <h5>store@gmail.com</h5>
                </div>
                <div class="col l4 offset-l2 s12">
                    &nbsp; &nbsp;
                    <ul>
                        <li><a class="grey-text text-lighten-3" asp-action="about" asp-controller="Home">About</a></li>
                        <li><a class="grey-text text-lighten-3" asp-action="contcs" asp-controller="Home">Contact</a></li>
                        <li><a class="grey-text text-lighten-3" asp-action="sending" asp-controller="Home">Deliveries</a></li>
                        @if (@Context.Session.GetString("FirstName") == null)
                        {
                            <li><a class="grey-text text-lighten-3" asp-action="LogIn" asp-controller="Clients">Login</a></li>
                        }
                        @if (@Context.Session.GetString("cart") != null)
                        {

                            <li><a class="grey-text text-lighten-3" asp-action="Cart" asp-controller="Products">Shopping Cart</a></li>
                        }
                    </ul>

                    <a href="https://www.google.co.il/maps/place/%D7%A6%D7%95%D7%9E%D7%AA+%D7%91%D7%99%D7%9C%D7%95%2F%D7%9B%D7%91%D7%99%D7%A9+40%E2%80%AD/31.870148,34.8207927,17z/data=!3m1!4b1!4m5!3m4!1s0x1502b79d51534a83:0x32f9521345bcdead!8m2!3d31.870148!4d34.818604?hl=iw">
                        <img class="mapfooter" src="~/photo/map.PNG">
                    </a>
                    <button class="btn btn-secondary"><i class="fa fa-facebook-square"></i></button>
                    <button class="btn btn-secondary"><i class="fa fa-instagram"></i></button>
                    <button class="btn btn-secondary"><i class="fa fa-twitter"></i></button>

                </div>

            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                © 2020 Hadas Amano, Dasi Nabul,Efrat Yehuda, Efrat Aslan

            </div>
        </div>

    </footer>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous"></script>

    
    <script src="~/js/site.js" asp-append-version="true"></script>
    @RenderSection("Scripts", required: false)
</body>
</html>
